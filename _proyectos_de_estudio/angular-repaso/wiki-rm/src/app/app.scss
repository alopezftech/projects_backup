// APP COMPONENT STYLES - Rick & Morty Wiki
// Usando variables centralizadas y mixins del proyecto

@use "../styles/variables" as *;
@use "../styles/mixins" as *;

// ================================
// ÔøΩ VARIABLES TEM√ÅTICAS ESPEC√çFICAS
// ================================

// Extender las variables base con tema Rick & Morty
$rm-primary: #00d4aa;
$rm-secondary: #64ffda;
$rm-dark: #1a1a2e;
$rm-darker: #0f0f23;

// ================================
// ÔøΩüèóÔ∏è LAYOUT PRINCIPAL
// ================================

:host {
  display: block;
  min-height: 100vh;
  background: linear-gradient(135deg, #0a0a0a 0%, $rm-dark 100%);
}

.main-content {
  min-height: calc(100vh - 70px); // Altura total menos header
  overflow-x: hidden;

  // Asegurar que el router-outlet ocupe todo el espacio
  ::ng-deep router-outlet + * {
    display: block;
    width: 100%;
  }
}

// ================================
// üé® VARIABLES CSS CUSTOM PROPERTIES
// ================================

:root {
  // Exponer variables SCSS como CSS custom properties
  --rm-primary-green: #{$rm-primary};
  --rm-secondary-cyan: #{$rm-secondary};
  --rm-dark-blue: #{$rm-darker};
  --rm-medium-blue: #{$rm-dark};
  --rm-text-light: #{$text-light};
  --rm-text-white: #{$text-white};

  // Espaciado usando variables centralizadas
  --rm-spacing-sm: #{$spacing-sm};
  --rm-spacing-md: #{$spacing-md};
  --rm-spacing-lg: #{$spacing-lg};
  --rm-spacing-xl: #{$spacing-xl};

  // Transiciones usando variables centralizadas
  --rm-transition: all #{$transition-normal} #{$easing-ease-out};
}

// ================================
// üîÑ LOADING STATES GLOBALES
// ================================

.app-loading {
  // Usar mixin centralizado
  @include flex-center;

  // Propiedades espec√≠ficas
  & {
    min-height: 50vh;
    flex-direction: column;
    gap: $spacing-lg;
  }

  .loading-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid rgba(0, 212, 170, 0.2);
    border-top-color: $rm-primary;
    border-radius: $border-radius-full;
    animation: spin 1s linear infinite;
  }

  .loading-text {
    color: $text-light;
    font-size: $font-size-sm;
  }
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

// ================================
// üì± RESPONSIVE ADJUSTMENTS
// ================================

// Usar mixin responsivo centralizado
@include mobile-only {
  .main-content {
    min-height: calc(100vh - 60px); // Header m√°s peque√±o en m√≥vil
  }
}

// ================================
// ‚ôø ACCESIBILIDAD
// ================================

// Usar mixin de reduced motion
@include reduced-motion {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

// Focus visible para navegaci√≥n por teclado usando variables centralizadas
:host ::ng-deep {
  a:focus-visible,
  button:focus-visible {
    outline: 2px solid $rm-primary;
    outline-offset: 2px;
    border-radius: $border-radius-sm;
  }
}

// ================================
// üñ®Ô∏è PRINT STYLES
// ================================

// Usar mixin de print styles
@include print-friendly {
  :host {
    @include print-base-styles;
  }

  .main-content {
    min-height: auto;
  }
}
