<!-- BotÃ³n hamburguesa solo visible en mobile -->
<button 
  class="hamburger-menu" 
  (click)="toggleMobileMenu()"
  [attr.aria-expanded]="isMobileMenuOpen"
  aria-label="Abrir menÃº de filtros">
  <span class="hamburger-icon">ğŸ”</span>
</button>

<!-- Overlay para cerrar menÃº en mobile -->
<div 
  class="mobile-overlay" 
  [class.active]="isMobileMenuOpen" 
  (click)="closeMobileMenu()">
</div>

<aside class="sidebar" [class.mobile-open]="isMobileMenuOpen">
  <!-- BotÃ³n cerrar solo visible en mobile -->
  <button 
    class="close-menu" 
    (click)="closeMobileMenu()"
    aria-label="Cerrar menÃº">
    Ã—
  </button>

  <div class="sidebar-content">
    <div class="sidebar-header">
      <h3>ğŸ” Filtros de BÃºsqueda</h3>
      <p class="sidebar-description">Busca imÃ¡genes por criterios especÃ­ficos</p>
    </div>

    <!-- Filtros -->
    <div class="sidebar-section">
      <!-- Filtro de Facultades -->
      <div class="filter-group">
        <label for="facultad-filter" class="filter-label">ğŸ“š Facultad:</label>
        <div class="autocomplete-container">
          <input 
            type="text" 
            id="facultad-filter"
            placeholder="Seleccionar facultad..."
            [(ngModel)]="selectedFaculty"
            (input)="filterFaculties($event)"
            (focus)="showFacultyOptions = true"
            (blur)="hideFacultyOptions()"
            class="autocomplete-input"
            autocomplete="off">
          <div class="autocomplete-dropdown" *ngIf="showFacultyOptions && filteredFaculties.length > 0">
            <div 
              *ngFor="let faculty of filteredFaculties" 
              class="autocomplete-option"
              (mousedown)="selectFaculty(faculty)">
              {{faculty}}
            </div>
          </div>
        </div>
      </div>

      <!-- Filtro de Tipos de Estudio -->
      <div class="filter-group">
        <label for="tipo-estudio-filter" class="filter-label">ğŸ“ Tipo de Estudio:</label>
        <div class="autocomplete-container">
          <input 
            type="text" 
            id="tipo-estudio-filter"
            placeholder="Seleccionar tipo de estudio..."
            [(ngModel)]="selectedStudyType"
            (input)="filterStudyTypes($event)"
            (focus)="showStudyTypeOptions = true"
            (blur)="hideStudyTypeOptions()"
            class="autocomplete-input"
            autocomplete="off">
          <div class="autocomplete-dropdown" *ngIf="showStudyTypeOptions && filteredStudyTypes.length > 0">
            <div 
              *ngFor="let type of filteredStudyTypes" 
              class="autocomplete-option"
              (mousedown)="selectStudyType(type)">
              {{type}}
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Botones de acciÃ³n -->
    <div class="sidebar-section">
      <button 
        class="search-button" 
        (click)="applyFiltersAndClose()"
        [disabled]="isLoading">
        <span *ngIf="!isLoading">ğŸ” Buscar</span>
        <span *ngIf="isLoading">â³ Buscando...</span>
      </button>
      
      <button 
        class="clear-button" 
        (click)="clearFilters()">
        ğŸ—‘ï¸ Limpiar Filtros
      </button>
    </div>

    <!-- Info sobre filtros activos -->
    <div class="sidebar-section" *ngIf="selectedFaculty || selectedStudyType">
      <h4 class="section-title">ğŸ·ï¸ Filtros Activos</h4>
      <div class="active-filters">
        <div class="filter-tag" *ngIf="selectedFaculty">
          ğŸ“š {{ selectedFaculty }}
          <button class="filter-remove" (click)="clearFaculty()">Ã—</button>
        </div>
        <div class="filter-tag" *ngIf="selectedStudyType">
          ğŸ“ {{ selectedStudyType }}
          <button class="filter-remove" (click)="clearStudyType()">Ã—</button>
        </div>
      </div>
    </div>
  </div>
</aside>
